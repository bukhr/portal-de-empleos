<!-- app/views/job_offers/layouts/_v1.html.erb -->
<div class="space-y-6 gap-4 flex flex-col">
  <% @job_offers.each do |job_offer| %>
    <div class="bg-gray-50 border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 p-3">
      <!-- Header con logo y título del trabajo -->
      <div class="flex items-start gap-4 mb-4">
        <div class="flex-shrink-0 flex items-center justify-center w-12 h-12 rounded-lg overflow-hidden" style="background-color: <%= job_offer.company.background_color || '#f3f4f6' %>">
          <%= image_tag(job_offer.company.image_url || asset_path('placeholder.png'), style: "width: 48px; height: 48px; object-fit: cover;", alt: job_offer.company.name) %>
        </div>
        <div class="flex-1 min-w-0">
          <%= link_to job_offer.name, job_offer_path(job_offer), class: "text-xl font-bold text-gray-900 hover:text-primary transition-colors block mb-1 leading-tight" %>
          <%= link_to job_offer.company.name.capitalize, "#{job_offer.external_url}", target: "_blank", rel: "noopener", class: "text-lg font-semibold text-primary hover:underline block mb-1" %>
        </div>
      </div>

      <!-- Información de ubicación y área -->
      <div class="flex flex-wrap items-center text-gray-500 text-sm gap-3 mb-4">
        <div class="flex items-center gap-1">
          <svg class="h-4 w-4 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span class="truncate"><%= job_offer.company.country %></span>
        </div>
        
        <% if job_offer.location.present? %>
          <span class="text-gray-300">•</span>
          <div class="flex items-center gap-1">
            <svg class="h-4 w-4 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25s-7.5-4.108-7.5-11.25a7.5 7.5 0 1115 0z" />
            </svg>
            <span class="truncate"><%= job_offer.location %></span>
          </div>
        <% end %>
        
        <% if job_offer.job_area.present? %>
          <span class="text-gray-300">•</span>
          <div class="flex items-center gap-1">
            <svg class="h-4 w-4 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z" />
            </svg>
            <span class="truncate"><%= job_offer.job_area %></span>
          </div>
        <% end %>
      </div>

      <!-- Footer con tipo de trabajo, fecha y acciones -->
      <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 pt-4 border-t border-gray-100">
        <div class="flex items-center gap-3">
          <% if job_offer.job_type.present? %>
            <span class="inline-block bg-green-50 text-green-700 text-xs font-semibold px-3 py-1.5 rounded-full border border-green-200 whitespace-nowrap">
              <%= job_offer.job_type&.humanize %>
            </span>
          <% end %>
          <span class="text-gray-400 text-sm whitespace-nowrap">
            <svg class="h-4 w-4 inline mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5a2.25 2.25 0 002.25-2.25m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5a2.25 2.25 0 012.25 2.25v7.5" />
            </svg>
            <%= job_offer.published_at&.strftime('%d/%m/%Y') %>
          </span>
        </div>
        
        <div class="flex items-center gap-3">
          <%= link_to "Ver detalles", job_offer_path(job_offer), class: "text-primary hover:text-primary/80 font-semibold text-sm bg-primary/10 hover:bg-primary/20 px-4 py-2 rounded-lg transition-all duration-200 flex-shrink-0" %>
          <%= link_to "Postular", safe_external_url(job_offer.external_url), target: '_blank', class: "text-white bg-primary hover:bg-primary/90 font-semibold text-sm px-4 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm hover:shadow-md mr-4" %>
        </div>
      </div>
    </div>
  <% end %>
</div>